(function(e){"use strict";function t(e){return e="%ca7.js "+a7.ver+": "+e,console.warn(e,"")}var n,o,r,i,a,u={},c=[],l={},s={},f={},p=[],d={routes:{},pages:{}},h={};"undefined"==typeof a7&&(e.a7=function(){var g={ver:"v3.1.0"};return g.app=d,g.createElement=function(e,t){if(0|void 0===t&&(t={}),void 0!==h[e])this.finalElement=['<div class="',e,'">',h[e](t),"</div>"].join("");else{t=JSON.stringify(t);var n,o=[],r=arguments.length;for(n=0;n<r;n++){var i=arguments[n];2<=n&&o.push(i)}var a=t.length,u=[],c=[];for(n=0;n<a;n++)'"'===t.charAt(n)&&u.push(n);n=0;var l,s=0;for(u.forEach(function(e){if(":"===t.charAt(e+1-s)){var o=u[n-1]+1-s,r=t.slice(o,e-s);t=t.replace(['"',r,'"'].join(""),r),s+=2}n++}),n=0,n=0;n<a;n++)":"===t.charAt(n)&&c.push(n);n=0,c.forEach(function(e){(function n(o,r){var i=o-1,a=r.charAt(i),u=r.charAt(i-1);'"'===a&":"===u|'"'===a&"="===u||('"'===a&":"!==u?t=g.replaceCharAt(t,e,"="):0===i?t=g.replaceCharAt(t,e,"="):n(i,r))})(e,t)}),this.element=e,this.content=o.join(""),this.finalAttributes=t.replace(/{/g,"").replace(/}/g,"").replace(/,/g," "),l=0!==this.finalAttributes.length?" ":"",this.finalElement=["<",this.element,l,this.finalAttributes,">",this.content,"</",this.element,">"].join("")}return this.finalElement},g.elementCollection=function(){var e,t=arguments.length,n=[];for(e=0;e<t;e++)n.push(arguments[e]);return n.join("")},g.registerComponent=function(e,n){void 0===h[e]?h[e]=n:t("That component is already registered!")},g.encoder=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},g.replaceCharAt=function(e,t,n){var o=e.lenght;return[e.substring(0,t),n,e.substring(t+1,o)].join("")},g.page={},l.html=function(e){if(void 0===e)return g.page.elem.innerHTML;g.page.elem.innerHTML=e},l.text=function(e){if(void 0===e)return g.page.elem.innerText;g.page.elem.innerText=e},l.get=function(){return g.page.elem},g.fallBacks=(e.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),e.HTMLCollection&&!HTMLCollection.prototype.forEach&&(HTMLCollection.prototype.forEach=Array.prototype.forEach),"".trim||(String.prototype.trim=function(){return this.replace(/^[\s﻿]+|[\s﻿]+$/g,"")}),void document.querySelector),g.renderNewLinks=function(){document.querySelectorAll("[data-a7-new-link]").forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=e.getAttribute("href");g.router(n),e.removeAttribute("data-a7-new-link"),e.setAttribute("data-a7-link","")})})},g.render=function(){var e,t=[],n=arguments.length;for(e=0;e<n;e++)t.push(arguments[e]);o.innerHTML=t.join("\n")},g.getDesc=function(){return p[0]},g.setDesc=function(e){p.forEach(function(t){t.setAttribute("content",e)})},g.toggleMenu=function(e){var t=s[e].classList,n=["a7-menu-",e,"-open"].join(""),o=["a7-menu-",e,"-closed"].join("");t.toggle(n),t.toggle(o);var r=f[e];void 0!==r&&r(!0===t.contains(n)?"open":"closed")},g.closeMenu=function(e){var t=f[e];void 0!==t&&t("closed");var n=s[e].classList,o=["a7-menu-",e,"-open"].join(""),r=["a7-menu-",e,"-closed"].join("");n.contains(o)&&(n.remove(o),n.add(r))},g.closeMenuOnRout=function(e){n=!0,c.push(e)},g.onMenuToggle=function(e,t){f[e]=t},g.init=function(){if(!0!==r){var n=document.querySelector("[data-a7-page-container]");if(null===n)return t('Page Container Could not be found, It has to have the data attribute "data-a7-page-container". Your website wont function without that.');o=n,n.setAttribute("a7-page-container","set"),n.removeAttribute("data-a7-page-container"),r=!0;var u=document.querySelectorAll("[data-a7-menu]");u&&u.forEach(function(e){var t=e.getAttribute("data-a7-menu"),n=e.getAttribute("data-a7-default-state");s[t]=e,"open"===n?e.classList.add(["a7-menu-",t,"-open"].join("")):e.classList.add(["a7-menu-",t,"-closed"].join(""))});var c=document.querySelectorAll("[data-a7-menu-toggle]");c&&c.forEach(function(e){var t=e.getAttribute("data-a7-menu-toggle");e.addEventListener("mouseup",function(){g.toggleMenu(t)})}),document.getElementsByTagName("a").forEach(function(e){void 0!==e.dataset.a7link|null!==e.getAttribute("a7-link")&&e.addEventListener("click",function(t){t.preventDefault();var n=e.getAttribute("href");g.router(n)})}),g.page.find=function(e){return g.page.elem=o.querySelector(e),this.get=l.get,this.html=l.html,this.text=l.text,this};var f=document.getElementsByName("description");if(0!==f.length?(p.push(f[0]),void 0!==f[0].getAttribute("content")&&(a=f[0].getAttribute("content"))):(document.getElementsByTagName("head")[0].innerHTML+='<meta name="description" content="">',p.push(document.getElementsByName("description")[0])),i=document.title,void 0===g.app)return t("Please configure your app check docs for help");g.router(g.path()),e.addEventListener("popstate",function(){g.router(g.path())})}},g.path=function(t){if(void 0===t)return e.location.pathname.replace("/","");0===t.indexOf("/")&&(t=t.replace("/","")),history.pushState?history.pushState({},void 0,["/",t].join("")):e.location=t},u.resolvedRoutes={},g.router=function(e){!0===n&&c.forEach(function(e){g.closeMenu(e)}),0===e.indexOf("/")&&(e=e.replace("/",""));var o,r=g.app,l=e.indexOf("/"),s=["/",e.slice(0,l+1),"*"].join(""),f=u.resolvedRoutes["/"+e],p=e.split("/");if(f)o=f;else if(r.routes[["/",e].join("")])o=["/",e].join("");else if(r.routes[s])o=s;else{if(!r.routes["/*"])return t("we could not find the page which you were looking for");o="/*"}var d=r.pages[r.routes[o]].title,h=(r.pages[r.routes[o]],r.pages[r.routes[o]].description);document.title=d||i,void 0!==h?g.setDesc(h):void 0!==a&&g.setDesc(a),r.pages[r.routes[o]].onRoute(p),g.path(e),scrollTo(0,pageXOffset)},e.onload=function(){g.init()},g}())})(window);