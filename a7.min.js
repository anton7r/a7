(function(b){"use strict";function j(a){return a="%ca7.js "+a7.ver+": "+a,console.warn(a,"")}var k,m,e,q,t,v={},u=[],c={},h={},l={},s=[],f={routes:{},pages:{}},d={};"undefined"==typeof a7&&(b.a7=function(){var a={ver:"v3.0"};return a.app=f,a.createElement=function(b,f){if(0|void 0===f&&(f={}),void 0!==d[b])this.finalElement=["<div>",d[b](f),"</div>"].join("");else{f=JSON.stringify(f);var g,e=[],h=arguments.length;for(g=0;g<h;g++){var j=arguments[g];2<=g&&e.push(j)}var i=f.length,a=[];for(g=0;g<i;g++)"\""===f.charAt(g)&&a.push(g);g=0;var k,m=0;a.forEach(function(b){if(":"===f.charAt(b+1-m)){var c=a[g-1]+1-m,d=f.slice(c,b-m);f=f.replace(["\"",d,"\""].join(""),d),m+=2}g++}),this.element=b,this.content=e.join(""),this.finalAttributes=f.replace(/{/g,"").replace(/}/g,"").replace(/:/g,"=").replace(/,/g," "),k=0===this.finalAttributes.length?"":" ",this.finalElement=["<",this.element,k,this.finalAttributes,">",this.content,"</",this.element,">"].join("")}return this.finalElement},a.elementCollection=function(){var a,b=arguments.length,c=[];for(a=0;a<b;a++)c.push(arguments[a]);return c.join("")},a.registerComponent=function(a,b){void 0===d[a]?d[a]=b:j("That component is already registered!")},a.encoder=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},a.page={},c.html=function(b){return void 0===b?a.page.elem.innerHTML:void(a.page.elem.innerHTML=b)},c.text=function(b){return void 0===b?a.page.elem.innerText:void(a.page.elem.innerText=b)},c.get=function(){return a.page.elem},a.fallBacks=(b.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),b.HTMLCollection&&!HTMLCollection.prototype.forEach&&(HTMLCollection.prototype.forEach=Array.prototype.forEach),"".trim,void document.querySelector),a.renderNewLinks=function(){document.querySelectorAll("[data-a7-new-link]").forEach(function(b){b.addEventListener("click",function(c){c.preventDefault();var d=b.getAttribute("href");a.router(d),b.removeAttribute("data-a7-new-link"),b.setAttribute("data-a7-link","")})})},a.render=function(){var a,b=[],c=arguments.length;for(a=0;a<c;a++)b.push(arguments[a]);m.innerHTML=b.join("\n")},a.getDesc=function(){return s[0]},a.setDesc=function(a){s.forEach(function(b){b.setAttribute("content",a)})},a.toggleMenu=function(a){var b=h[a].classList,c=["a7-menu-",a,"-open"].join(""),d=["a7-menu-",a,"-closed"].join("");b.toggle(c),b.toggle(d);var e=l[a];void 0!==e&&e(!0===b.contains(c)?"open":"closed")},a.closeMenu=function(a){var b=l[a];void 0!==b&&b("closed");var c=h[a].classList,d=["a7-menu-",a,"-open"].join(""),e=["a7-menu-",a,"-closed"].join("");c.contains(d)&&(c.remove(d),c.add(e))},a.closeMenuOnRout=function(a){k=!0,u.push(a)},a.onMenuToggle=function(a,b){l[a]=b},a.init=function(){if(!0!==e){var d=document.querySelector("[data-a7-page-container]");if(null===d)return j("Page Container Could not be found, It has to have the data attribute \"data-a7-page-container\". Your website wont function without that.");m=d,d.setAttribute("a7-page-container","set"),d.removeAttribute("data-a7-page-container"),e=!0;var g=document.querySelectorAll("[data-a7-menu]");g&&g.forEach(function(a){var b=a.getAttribute("data-a7-menu"),c=a.getAttribute("data-a7-default-state");h[b]=a,"open"===c?a.classList.add(["a7-menu-",b,"-open"].join("")):a.classList.add(["a7-menu-",b,"-closed"].join(""))});var i=document.querySelectorAll("[data-a7-menu-toggle]");i&&i.forEach(function(b){var c=b.getAttribute("data-a7-menu-toggle");b.addEventListener("mouseup",function(){a.toggleMenu(c)})}),document.getElementsByTagName("a").forEach(function(b){void 0!==b.dataset.a7link|null!==b.getAttribute("a7-link")&&b.addEventListener("click",function(c){c.preventDefault();var d=b.getAttribute("href");a.router(d)})}),a.page.find=function(b){return a.page.elem=m.querySelector(b),this.get=c.get,this.html=c.html,this.text=c.text,this};var k=document.getElementsByName("description");if(0===k.length?(document.getElementsByTagName("head")[0].innerHTML+="<meta name=\"description\" content=\"\">",s.push(document.getElementsByName("description")[0])):(s.push(k[0]),void 0!==k[0].getAttribute("content")&&(t=k[0].getAttribute("content"))),q=document.title,void 0===a.app)return j("Please configure your app check docs for help");a.router(a.path()),b.addEventListener("popstate",function(){a.router(a.path())})}},a.path=function(a){return void 0===a?b.location.pathname.replace("/",""):void(0===a.indexOf("/")&&(a=a.replace("/","")),history.pushState?history.pushState({},void 0,["/",a].join("")):b.location=a)},v.resolvedRoutes={},a.router=function(b){!0===k&&u.forEach(function(b){a.closeMenu(b)}),0===b.indexOf("/")&&(b=b.replace("/",""));var c,h=a.app,i=b.indexOf("/"),l=["/",b.slice(0,i+1),"*"].join(""),m=v.resolvedRoutes["/"+b],f=b.split("/");if(m)c=m;else if(h.routes[["/",b].join("")])c=["/",b].join("");else if(h.routes[l])c=l;else{if(!h.routes["/*"])return j("we could not find the page which you were looking for");c="/*"}var n=h.pages[h.routes[c]].title,d=(h.pages[h.routes[c]],h.pages[h.routes[c]].description);document.title=n||q,void 0===d?void 0!==t&&a.setDesc(t):a.setDesc(d),h.pages[h.routes[c]].onRoute(f),a.path(b),scrollTo(0,pageXOffset)},b.onload=function(){a.init()},a}())})(window);