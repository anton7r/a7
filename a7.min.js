(function(e){"use strict";function t(e){return e="%ca7.js "+a7.ver+": "+e,console.warn(e,"")}var n,o,r,i,a,u={},c=[],l={},s={},f={},p=[],d={routes:{},pages:{}},g={};"undefined"==typeof a7&&(e.a7=function(){var h={ver:"v3.1.1"};return h.app=d,h.createElement=function(e,t){if(0|void 0===t&&(t={}),void 0!==g[e])this.finalElement=['<div class="',e,'">',g[e](t),"</div>"].join("");else{t=JSON.stringify(t);var n,o=[],r=arguments.length;for(n=0;n<r;n++){var i=arguments[n];2<=n&&o.push(i)}var a=t.length,u=[],c=[];for(n=0;n<a;n++){var l=t.charAt(n);'"'===l?u.push(n):":"===l&&c.push(n)}n=0;var s,f=0;u.forEach(function(e){if(":"===t.charAt(e+1-f)){var o=u[n-1]+1-f,r=t.slice(o,e-f);t=t.replace(['"',r,'"'].join(""),r),f+=2}n++}),n=0,c.forEach(function(e){(function n(o,r){var i=o-1,a=r.charAt(i),u=r.charAt(i-1);'"'===a&":"===u|'"'===a&"="===u||('"'===a&":"!==u?t=h.replaceCharAt(t,e,"="):0===i?t=h.replaceCharAt(t,e,"="):n(i,r))})(e,t)}),this.element=e,this.content=o.join(""),this.finalAttributes=t.replace(/{/g,"").replace(/}/g,"").replace(/,/g," "),s=0!==this.finalAttributes.length?" ":"",this.finalElement=["<",this.element,s,this.finalAttributes,">",this.content,"</",this.element,">"].join("")}return this.finalElement},h.elementCollection=function(){var e,t=arguments.length,n=[];for(e=0;e<t;e++)n.push(arguments[e]);return n.join("")},h.registerComponent=function(e,n){void 0===g[e]?g[e]=n:t("That component is already registered!")},h.encoder=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},h.replaceCharAt=function(e,t,n){var o=e.lenght;return[e.substring(0,t),n,e.substring(t+1,o)].join("")},h.page={},l.html=function(e){if(void 0===e)return h.page.elem.innerHTML;h.page.elem.innerHTML=e},l.text=function(e){if(void 0===e)return h.page.elem.innerText;h.page.elem.innerText=e},l.get=function(){return h.page.elem},h.fallBacks=(e.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),e.HTMLCollection&&!HTMLCollection.prototype.forEach&&(HTMLCollection.prototype.forEach=Array.prototype.forEach),"".trim||(String.prototype.trim=function(){return this.replace(/^[\s﻿]+|[\s﻿]+$/g,"")}),void document.querySelector),h.renderNewLinks=function(){document.querySelectorAll("[data-a7-new-link]").forEach(function(e){e.addEventListener("click",function(t){t.preventDefault();var n=e.getAttribute("href");h.router(n),e.removeAttribute("data-a7-new-link"),e.setAttribute("data-a7-link","")})})},h.render=function(){var e,t=[],n=arguments.length;for(e=0;e<n;e++)t.push(arguments[e]);o.innerHTML=t.join("\n")},h.getDesc=function(){return p[0]},h.setDesc=function(e){p.forEach(function(t){t.setAttribute("content",e)})},h.toggleMenu=function(e){var t=s[e].classList,n=["a7-menu-",e,"-open"].join(""),o=["a7-menu-",e,"-closed"].join("");t.toggle(n),t.toggle(o);var r=f[e];void 0!==r&&r(!0===t.contains(n)?"open":"closed")},h.closeMenu=function(e){var t=f[e];void 0!==t&&t("closed");var n=s[e].classList,o=["a7-menu-",e,"-open"].join(""),r=["a7-menu-",e,"-closed"].join("");n.contains(o)&&(n.remove(o),n.add(r))},h.closeMenuOnRout=function(e){n=!0,c.push(e)},h.onMenuToggle=function(e,t){f[e]=t},h.init=function(){if(!0!==r){var n=document.querySelector("[data-a7-page-container]");if(null===n)return t('Page Container Could not be found, It has to have the data attribute "data-a7-page-container". Your website wont function without that.');o=n,n.setAttribute("a7-page-container","set"),n.removeAttribute("data-a7-page-container"),r=!0;var u=document.querySelectorAll("[data-a7-menu]");u&&u.forEach(function(e){var t=e.getAttribute("data-a7-menu"),n=e.getAttribute("data-a7-default-state");s[t]=e,"open"===n?e.classList.add(["a7-menu-",t,"-open"].join("")):e.classList.add(["a7-menu-",t,"-closed"].join(""))});var c=document.querySelectorAll("[data-a7-menu-toggle]");c&&c.forEach(function(e){var t=e.getAttribute("data-a7-menu-toggle");e.addEventListener("mouseup",function(){h.toggleMenu(t)})}),document.getElementsByTagName("a").forEach(function(e){void 0!==e.dataset.a7link|null!==e.getAttribute("a7-link")&&e.addEventListener("click",function(t){t.preventDefault();var n=e.getAttribute("href");h.router(n)})}),h.page.find=function(e){return h.page.elem=o.querySelector(e),this.get=l.get,this.html=l.html,this.text=l.text,this};var f=document.getElementsByName("description");if(0!==f.length?(p.push(f[0]),void 0!==f[0].getAttribute("content")&&(a=f[0].getAttribute("content"))):(document.getElementsByTagName("head")[0].innerHTML+='<meta name="description" content="">',p.push(document.getElementsByName("description")[0])),i=document.title,void 0===h.app)return t("Please configure your app check docs for help");h.router(h.path()),e.addEventListener("popstate",function(){h.router(h.path())})}},h.path=function(t){if(void 0===t)return e.location.pathname.replace("/","");0===t.indexOf("/")&&(t=t.replace("/","")),history.pushState?history.pushState({},void 0,["/",t].join("")):e.location=t},u.resolvedRoutes={},h.router=function(e){!0===n&&c.forEach(function(e){h.closeMenu(e)}),0===e.indexOf("/")&&(e=e.replace("/",""));var o,r=h.app,l=e.indexOf("/"),s=["/",e.slice(0,l+1),"*"].join(""),f=u.resolvedRoutes["/"+e],p=e.split("/");if(f)o=f;else if(r.routes[["/",e].join("")])o=["/",e].join("");else if(r.routes[s])o=s;else{if(!r.routes["/*"])return t("we could not find the page which you were looking for");o="/*"}var d=r.pages[r.routes[o]].title,g=(r.pages[r.routes[o]],r.pages[r.routes[o]].description);document.title=d||i,void 0!==g?h.setDesc(g):void 0!==a&&h.setDesc(a),r.pages[r.routes[o]].onRoute(p),h.path(e),scrollTo(0,pageXOffset)},e.onload=function(){h.init()},h}())})(window);